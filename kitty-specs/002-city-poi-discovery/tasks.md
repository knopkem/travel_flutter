---
description: "Work package task list for City POI Discovery & Detail View"
---

# Work Packages: City POI Discovery & Detail View

**Feature**: 002-city-poi-discovery  
**Inputs**: Design documents from `/kitty-specs/002-city-poi-discovery/`
**Prerequisites**: [plan.md](plan.md), [spec.md](spec.md), [research.md](research.md), [data-model.md](data-model.md), [contracts/](contracts/), [quickstart.md](quickstart.md)

**Organization**: Fine-grained subtasks (`Txxx`) roll up into work packages (`WPxx`). Each work package is independently deliverable and testable.

**Prompt Files**: Each work package references a matching prompt file in `tasks/planned/` generated by `/spec-kitty.tasks`. This file is the high-level checklist; deep implementation details are inside the prompt files.

## Subtask Format: `[Txxx] [P?] Description`
- **[P]** indicates the subtask can proceed in parallel (different files/components).
- Precise file paths included where applicable.

---

## Work Package WP01: Foundation - Data Models & Utilities (Priority: P0)

**Goal**: Create foundational data models (POI, enums) and utility functions for distance calculation and deduplication.
**Independent Test**: Models can be instantiated with valid data, factory methods work correctly, distance calculator returns accurate results for known coordinates.
**Prompt**: [tasks/planned/WP01-foundation-data-models-utilities.md](tasks/planned/WP01-foundation-data-models-utilities.md)

### Included Subtasks
- [ ] T001 [P] Create `POIType` enum in `lib/models/poi_type.dart` with values: monument, museum, landmark, religiousSite, park, viewpoint, touristAttraction, historicSite, square, other
- [ ] T002 [P] Create `POISource` enum in `lib/models/poi_source.dart` with values: wikipediaGeosearch, overpass, wikidata
- [ ] T003 Create `POI` model in `lib/models/poi.dart` with all 14 attributes per data-model.md (id, name, type, coordinates, distanceFromCity, sources, description, wikipediaTitle, wikidataId, imageUrl, website, openingHours, notabilityScore, discoveredAt)
- [ ] T004 Add POI factory methods: `fromWikipediaGeosearch()`, `fromOverpass()`, `fromWikidata()`, `merge()` for combining duplicates
- [ ] T005 [P] Create distance calculator utility in `lib/utils/distance_calculator.dart` implementing Haversine formula
- [ ] T006 [P] Create deduplication utility in `lib/utils/deduplication_utils.dart` with coordinate proximity (50m) and name similarity (70%) logic
- [ ] T007 [P] Create notability scorer utility in `lib/utils/notability_scorer.dart` to calculate POI importance from source data
- [ ] T008 Update `lib/models/models.dart` to export new models and enums

### Implementation Notes
- POI ID generation: Use hash of normalized name + lat/lon for consistency across sources
- Haversine formula: Standard implementation for calculating distance between two lat/lon coordinates
- Name similarity: Use Levenshtein distance or similar algorithm
- All utilities should be pure functions for testability

### Parallel Opportunities
- T001, T002, T005, T006, T007 can all proceed in parallel (different files)
- T003-T004 depend on T001-T002 (need enums)

### Dependencies
- None (starting package)

### Risks & Mitigations
- **Risk**: Deduplication logic too aggressive/lenient
  - **Mitigation**: Thresholds (50m, 70%) are configurable constants; can tune based on testing
- **Risk**: Distance calculation performance with hundreds of POIs
  - **Mitigation**: Haversine is O(1) per calculation; acceptable for 100s of POIs

---

## Work Package WP02: Single City Model Refactor (Priority: P0)

**Goal**: Refactor LocationProvider from multi-city list to single active city model, update UI accordingly.
**Independent Test**: Search for "Paris", select it; verify only Paris is active. Search for "Tokyo", select it; verify Paris is deselected and Tokyo becomes active. UI shows single city, not list.
**Prompt**: [tasks/planned/WP02-single-city-model-refactor.md](tasks/planned/WP02-single-city-model-refactor.md)

### Included Subtasks
- [ ] T009 Modify `LocationProvider` in `lib/providers/location_provider.dart`: Change `List<Location> _selectedLocations` to `City? _selectedCity`
- [ ] T010 Update `LocationProvider.selectCity()` method to replace current city instead of adding to list
- [ ] T011 Add `LocationProvider.clearCity()` method for deselecting the active city
- [ ] T012 Update `LocationProvider` getters to return single city instead of list
- [ ] T013 Modify `HomeScreen` in `lib/screens/home_screen.dart` to handle single city selection (remove multi-select UI)
- [ ] T014 Remove `SelectedLocationsList` widget from `lib/widgets/selected_locations_list.dart` (no longer needed)
- [ ] T015 Update `SuggestionList` widget in `lib/widgets/suggestion_list.dart` to trigger city replacement instead of addition

### Implementation Notes
- Breaking change from feature 001: Any code expecting `List<Location>` needs updating
- UI changes: Remove "X" buttons for deselecting individual cities (now just one city)
- Maintain search field functionality unchanged

### Parallel Opportunities
- T013-T015 (UI changes) can proceed in parallel once T009-T012 (provider refactor) are complete

### Dependencies
- Depends on WP01 (T008 for model exports)

### Risks & Mitigations
- **Risk**: Regression in search functionality
  - **Mitigation**: Preserve all existing search tests, add new tests for single-city behavior

---

## Work Package WP03: Full Wikipedia Content Enhancement (Priority: P0)

**Goal**: Enhance WikipediaContent model and provider to fetch and display full article content instead of just summaries.
**Independent Test**: Select "Berlin", navigate to city details; verify full Wikipedia article content is displayed with multiple sections, not just intro paragraph. Verify caching works (second view is instant).
**Prompt**: [tasks/planned/WP03-full-wikipedia-content-enhancement.md](tasks/planned/WP03-full-wikipedia-content-enhancement.md)

### Included Subtasks
- [ ] T016 Create `ArticleSection` model in `lib/models/article_section.dart` with fields: title, content, level (h2, h3, etc.)
- [ ] T017 Enhance `WikipediaContent` model in `lib/models/wikipedia_content.dart`: Add `fullContent`, `sections`, `fetchedAt`, `isFullArticle` fields
- [ ] T018 Update `WikipediaRepository` interface in `lib/repositories/wikipedia_repository.dart` to add `fetchFullArticle()` method
- [ ] T019 Implement `fetchFullArticle()` in `RestWikipediaRepository` in `lib/repositories/rest_wikipedia_repository.dart` using Wikipedia REST API mobile-html endpoint
- [ ] T020 Enhance `WikipediaProvider` in `lib/providers/wikipedia_provider.dart` to support full content caching (in-memory, session-based)
- [ ] T021 Update `WikipediaContentWidget` in `lib/widgets/wikipedia_content_widget.dart` to render full content with section navigation
- [ ] T022 Update `CityDetailsScreen` (likely needs rename/enhancement) to use full Wikipedia content

### Implementation Notes
- Wikipedia mobile-html endpoint: `https://en.wikipedia.org/api/rest_v1/page/mobile-html/{title}`
- Parse HTML to extract sections (h2, h3 tags) for section-based navigation
- Cache strategy: In-memory Map<String, WikipediaContent> keyed by city ID
- UI: Consider collapsible sections or tab navigation for long articles

### Parallel Opportunities
- T016 (ArticleSection model) can proceed in parallel with T017 (WikipediaContent enhancement)
- T021 (widget) can be prepared while T018-T020 (repository/provider) are in progress

### Dependencies
- Depends on WP02 (single city model must be in place)

### Risks & Mitigations
- **Risk**: Large article HTML crashes or freezes UI
  - **Mitigation**: Use ListView with lazy rendering, limit initial sections displayed
- **Risk**: Wikipedia API rate limiting
  - **Mitigation**: Respect reasonable use guidelines, cache aggressively

---

## Work Package WP04: POI Data Source - Wikipedia Geosearch (Priority: P1)

**Goal**: Implement Wikipedia Geosearch repository to fetch nearby POIs with Wikipedia articles.
**Independent Test**: Select "Paris" (48.8566, 2.3522); verify Wikipedia Geosearch returns expected POIs like "Eiffel Tower", "Louvre" within 10km. Response parsing works correctly.
**Prompt**: [tasks/planned/WP04-poi-wikipedia-geosearch.md](tasks/planned/WP04-poi-wikipedia-geosearch.md)

### Included Subtasks
- [ ] T023 Create `POIRepository` base interface in `lib/repositories/poi_repository.dart` with `fetchNearbyPOIs(City city)` method
- [ ] T024 Implement `WikipediaGeosearchRepository` in `lib/repositories/wikipedia_geosearch_repository.dart` extending `POIRepository`
- [ ] T025 Implement Wikipedia Geosearch API call: `GET /w/api.php?action=query&list=geosearch&gscoord={lat}|{lon}&gsradius=10000&gslimit=50`
- [ ] T026 Parse API response and create POI objects using `POI.fromWikipediaGeosearch()` factory
- [ ] T027 Handle error cases: network timeout, empty results, invalid coordinates
- [ ] T028 Update `lib/repositories/repositories.dart` to export POI repositories

### Implementation Notes
- Wikipedia Geosearch endpoint: `https://en.wikipedia.org/w/api.php`
- Query parameters: action=query, list=geosearch, gscoord={lat}|{lon}, gsradius={meters}, gslimit={count}, format=json
- Filter results to namespace 0 (main articles only)
- Calculate distance using Haversine utility from WP01
- Map to POIType.touristAttraction as default (refine later based on article content)

### Parallel Opportunities
- This work package is independent and can proceed in parallel with WP05 and WP06

### Dependencies
- Depends on WP01 (POI model, enums, distance calculator)

### Risks & Mitigations
- **Risk**: Wikipedia Geosearch returns non-POI articles (e.g., neighborhoods, events)
  - **Mitigation**: Apply heuristics based on article titles/categories; allow filtering in UI

---

## Work Package WP05: POI Data Source - OpenStreetMap Overpass (Priority: P1)

**Goal**: Implement OpenStreetMap Overpass API repository to fetch POIs from OSM data.
**Independent Test**: Select "Rome" (41.9028, 12.4964); verify Overpass returns POIs like "Colosseum", "Vatican Museums". Verify rate limiting (1 req/sec) is enforced.
**Prompt**: [tasks/planned/WP05-poi-openstreetmap-overpass.md](tasks/planned/WP05-poi-openstreetmap-overpass.md)

### Included Subtasks
- [ ] T029 Implement `OverpassRepository` in `lib/repositories/overpass_repository.dart` extending `POIRepository`
- [ ] T030 Build Overpass QL query for tourism/historic/amenity tags within 10km radius (see contracts/overpass-api.md)
- [ ] T031 Implement POST request to `https://overpass-api.de/api/interpreter` with Overpass QL query
- [ ] T032 Parse Overpass JSON response and create POI objects using `POI.fromOverpass()` factory
- [ ] T033 Map OSM tags (tourism=*, historic=*, amenity=*) to POIType enum values
- [ ] T034 Implement rate limiting: 1 request per second enforced in repository
- [ ] T035 Handle error cases: 429 rate limit, timeout, malformed response

### Implementation Notes
- Overpass endpoint: `https://overpass-api.de/api/interpreter`
- Query format: Overpass QL (see contracts/overpass-api.md for full query template)
- Tags to query: tourism (attraction, museum, monument, viewpoint, etc.), historic (monument, castle, ruins, etc.), amenity (theatre, arts_centre, etc.)
- Rate limit enforcement: Track last request timestamp, delay if needed before next request
- Notability scoring: Award points for wikidata tag, wikipedia tag, website presence

### Parallel Opportunities
- This work package is independent and can proceed in parallel with WP04 and WP06

### Dependencies
- Depends on WP01 (POI model, enums, distance calculator)

### Risks & Mitigations
- **Risk**: Overpass API timeouts for complex queries
  - **Mitigation**: 25-second timeout, simplify query if timeouts occur (reduce tag count)
- **Risk**: Rate limit violations leading to IP ban
  - **Mitigation**: CRITICAL - enforce 1 req/sec strictly, add exponential backoff for 429 responses

---

## Work Package WP06: POI Data Source - Wikidata SPARQL (Priority: P1)

**Goal**: Implement Wikidata SPARQL repository to fetch structured POI data with rich metadata.
**Independent Test**: Select "London" (51.5074, -0.1278); verify Wikidata returns notable places with structured data (inception dates, visitor counts, heritage status). Verify WKT coordinate parsing works.
**Prompt**: [tasks/planned/WP06-poi-wikidata-sparql.md](tasks/planned/WP06-poi-wikidata-sparql.md)

### Included Subtasks
- [ ] T036 Implement `WikidataRepository` in `lib/repositories/wikidata_repository.dart` extending `POIRepository`
- [ ] T037 Build SPARQL query for notable places within 10km using wikibase:around service (see contracts/wikidata-api.md)
- [ ] T038 Implement GET request to `https://query.wikidata.org/sparql` with URL-encoded SPARQL query
- [ ] T039 Parse SPARQL JSON response and create POI objects using `POI.fromWikidata()` factory
- [ ] T040 Parse WKT coordinate format: "Point(lon lat)" â†’ (latitude, longitude)
- [ ] T041 Map Wikidata place types (Q-IDs) to POIType enum values
- [ ] T042 Extract structured data: inception date, visitor count, heritage status for notability scoring
- [ ] T043 Handle error cases: query timeout, service unavailable, malformed SPARQL

### Implementation Notes
- Wikidata endpoint: `https://query.wikidata.org/sparql`
- Query uses wikibase:around service for efficient geographic queries
- Place types: Q570116 (tourist attraction), Q33506 (museum), Q4989906 (monument), etc.
- WKT parsing: Longitude comes first in WKT format, opposite of typical (lat, lon) order
- Notability boost: UNESCO heritage sites get +30 points, 1M+ annual visitors get +10 points
- 30-second client timeout (Wikidata has 60-second server timeout)

### Parallel Opportunities
- This work package is independent and can proceed in parallel with WP04 and WP05

### Dependencies
- Depends on WP01 (POI model, enums, distance calculator, notability scorer)

### Risks & Mitigations
- **Risk**: Complex SPARQL queries timeout frequently
  - **Mitigation**: Keep query simple, limit to 100 results, fall back gracefully on timeout
- **Risk**: WKT coordinate parsing errors
  - **Mitigation**: Robust regex parsing with validation, skip malformed entries

---

## Work Package WP07: POI Provider - Discovery & Deduplication (Priority: P1) ðŸŽ¯ MVP

**Goal**: Implement POIProvider to orchestrate POI discovery from multiple sources, deduplicate results, and manage state.
**Independent Test**: Select "Paris"; verify POIs load progressively (Wikipedia first ~2s, then Overpass+Wikidata ~5s). Verify duplicates are removed (e.g., "Eiffel Tower" from 3 sources appears once). Verify UI updates incrementally.
**Prompt**: [tasks/planned/WP07-poi-provider-discovery-deduplication.md](tasks/planned/WP07-poi-provider-discovery-deduplication.md)

### Included Subtasks
- [ ] T044 Create `POIProvider` in `lib/providers/poi_provider.dart` extending `ChangeNotifier`
- [ ] T045 Implement progressive loading strategy: Phase 1 (Wikipedia Geosearch), then Phase 2 (Overpass + Wikidata in parallel)
- [ ] T046 Integrate deduplication utility from WP01 to merge POIs from multiple sources
- [ ] T047 Implement in-memory caching: Map<String, List<POI>> keyed by city ID with LRU eviction
- [ ] T048 Add loading state management: `isLoading`, `isLoadingPhase1`, `isLoadingPhase2`
- [ ] T049 Implement error handling: Continue with available sources if one fails, provide retry mechanism
- [ ] T050 Add POI sorting by notability score (highest first)
- [ ] T051 Limit initial display to top 20-30 POIs (configurable)
- [ ] T052 Cancel in-flight requests when user switches cities
- [ ] T053 Update `lib/providers/providers.dart` to export POIProvider

### Implementation Notes
- Progressive loading sequence:
  1. Call WikipediaGeosearchRepository (fast, ~2s)
  2. `notifyListeners()` to update UI with initial results
  3. Call Future.wait([OverpassRepository, WikidataRepository]) in parallel (~3s)
  4. Apply deduplication to merge all results
  5. `notifyListeners()` to update UI with complete results
- Deduplication: Use utility from WP01, prefer Wikipedia > Wikidata > Overpass when merging
- Caching: Simple Map, evict oldest entries when size exceeds 10MB (estimate ~10 cities)
- Cancellation: Use CancellationToken pattern or check `_currentCityId` before updating state

### Parallel Opportunities
- None (this orchestrates the other repositories, must come after WP04-WP06)

### Dependencies
- Depends on WP01 (utilities), WP04 (Wikipedia Geosearch), WP05 (Overpass), WP06 (Wikidata)

### Risks & Mitigations
- **Risk**: Race conditions when user rapidly switches cities
  - **Mitigation**: Cancel in-flight requests, track currentCityId, ignore stale responses
- **Risk**: Deduplication too slow with hundreds of POIs
  - **Mitigation**: Optimize with spatial indexing (grid-based bucketing) if needed

---

## Work Package WP08: User Story 1 - Single City POI Discovery UI (Priority: P1) ðŸŽ¯ MVP

**Goal**: Implement UI screens/widgets for viewing the active city with its full Wikipedia content and automatically discovered POI list.
**Independent Test**: Search for "Tokyo", select it; verify city details screen shows full Wikipedia article. Verify POI list appears below with loading indicators. Verify POIs load progressively (fast batch first, complete list after). Verify smooth scrolling.
**Prompt**: [tasks/planned/WP08-user-story-1-city-poi-discovery-ui.md](tasks/planned/WP08-user-story-1-city-poi-discovery-ui.md)

### Included Subtasks
- [ ] T054 Enhance or rename `CityDetailsScreen` in `lib/screens/city_details_screen.dart` to show full Wikipedia content and POI list
- [ ] T055 Create `POIListWidget` in `lib/widgets/poi_list_widget.dart` to display list of POIs with progressive loading indicators
- [ ] T056 Create `POIListItem` widget in `lib/widgets/poi_list_item.dart` for individual POI display (name, type icon, distance)
- [ ] T057 Add loading indicators: shimmer effect for Phase 1, append indicator for Phase 2
- [ ] T058 Implement error handling UI: Show friendly message when POI discovery fails, provide retry button
- [ ] T059 Add empty state UI: "No POIs found nearby" message when no results
- [ ] T060 Wire up POIProvider to CityDetailsScreen using `Provider.of<POIProvider>(context)`
- [ ] T061 Trigger POI discovery automatically when city is selected (in LocationProvider.selectCity())

### Implementation Notes
- Screen layout: Wikipedia content at top, POI list below (scrollable)
- Progressive indicators:
  - Phase 1: Show shimmer placeholders while Wikipedia Geosearch loads
  - Phase 2: Show "Loading more..." at bottom while Overpass/Wikidata load
- Error states: NetworkException â†’ "Check your internet connection", TimeoutException â†’ "Request timed out, please retry"
- Empty state: Friendly message with city illustration or icon
- POI list items: Left icon for POI type, name in bold, distance in gray text

### Parallel Opportunities
- T054-T056 (widget structure) can be built in parallel
- T057-T059 (loading/error/empty states) can be added after structure is in place

### Dependencies
- Depends on WP02 (single city model), WP03 (full Wikipedia content), WP07 (POIProvider)

### Risks & Mitigations
- **Risk**: Long POI lists cause scroll performance issues
  - **Mitigation**: Use ListView.builder for lazy rendering, limit initial display to 30 items

---

## Work Package WP09: User Story 2 - POI Detail View (Priority: P2)

**Goal**: Implement detailed POI view screen with comprehensive information fetched from Wikipedia/Wikidata.
**Independent Test**: From Paris POI list, tap "Louvre Museum"; verify detail screen shows: name, description, images (if available), distance, type, source attribution, Wikipedia link. Verify navigation back to POI list preserves state.
**Prompt**: [tasks/planned/WP09-poi-detail-view.md](tasks/planned/WP09-poi-detail-view.md)

### Included Subtasks
- [ ] T062 Create `POIDetailScreen` in `lib/screens/poi_detail_screen.dart` with scrollable layout
- [ ] T063 Add POI detail fetching logic in POIProvider: `fetchPOIDetails(POI poi)` method
- [ ] T064 Implement Wikipedia article fetching for POI (if wikipediaTitle is available) using WikipediaProvider
- [ ] T065 Implement Wikidata entity fetching for POI (if wikidataId is available) for structured data
- [ ] T066 Create `POIDetailWidget` in `lib/widgets/poi_detail_widget.dart` to render comprehensive POI information
- [ ] T067 Add image display: thumbnail from Wikipedia/Wikidata, fallback to placeholder
- [ ] T068 Add metadata display: opening hours, website link (if available)
- [ ] T069 Add source attribution: "Information from Wikipedia, OpenStreetMap, Wikidata" with icons
- [ ] T070 Implement navigation: Tap POI in list â†’ navigate to POIDetailScreen, back button â†’ return to list
- [ ] T071 Add caching for POI details in POIProvider (in-memory, keyed by POI ID)

### Implementation Notes
- Screen sections:
  1. Header: POI name, type badge, distance
  2. Image carousel (if multiple images available)
  3. Description (from Wikipedia or Wikidata)
  4. Metadata: Opening hours, website, year established
  5. Source attribution footer
- Wikipedia fetching: Use existing WikipediaProvider, fetch full article for POI
- Wikidata fetching: Query specific entity by ID for structured fields (P571 inception, P1174 visitors, etc.)
- Navigation: Use Navigator.push() with MaterialPageRoute

### Parallel Opportunities
- T062 (screen structure), T066 (widget), T069 (attribution) can be built in parallel
- T063-T065 (data fetching) can proceed in parallel with UI work

### Dependencies
- Depends on WP07 (POIProvider), WP08 (POI list UI for navigation)

### Risks & Mitigations
- **Risk**: Wikipedia/Wikidata fetch for POI fails or returns no data
  - **Mitigation**: Show available information, hide missing sections gracefully, provide "Learn more" link

---

## Work Package WP10: Polish & Edge Cases (Priority: P3)

**Goal**: Handle edge cases, add polish features like city switching, error recovery, and UI refinements.
**Independent Test**: Select "Madrid", view POIs; search and select "Barcelona"; verify smooth transition (Madrid deselected, Barcelona content loads, POIs refresh). Test network failures, rapid city switching, empty POI results.
**Prompt**: [tasks/planned/WP10-polish-edge-cases.md](tasks/planned/WP10-polish-edge-cases.md)

### Included Subtasks
- [ ] T072 Implement city switching logic: Clear POI cache for previous city, cancel in-flight requests, load new city
- [ ] T073 Add pull-to-refresh for POI list to retry discovery
- [ ] T074 Implement offline detection: Show appropriate message when network is unavailable
- [ ] T075 Add rate limit handling: Exponential backoff for 429 responses from Overpass
- [ ] T076 Implement request queuing: Queue city switches to prevent race conditions
- [ ] T077 Add analytics/logging: Track POI discovery success rates, API failures, user interactions
- [ ] T078 Optimize performance: Profile POI deduplication, add spatial indexing if needed
- [ ] T079 Add accessibility: Screen reader labels, semantic markup, keyboard navigation
- [ ] T080 Final UI polish: Animations for POI loading, smooth transitions, micro-interactions

### Implementation Notes
- City switching: Call `POIProvider.clear()` before selecting new city
- Pull-to-refresh: Use RefreshIndicator widget around POI list
- Offline detection: Listen to connectivity_plus package (if added) or catch network errors
- Rate limit backoff: 2s â†’ 4s â†’ 8s delays on consecutive 429 responses
- Queuing: Implement simple queue in LocationProvider, process one city at a time
- Analytics: Use print statements or logging package (not a full analytics service)
- Performance: If deduplication is slow (>500ms), implement grid-based spatial bucketing

### Parallel Opportunities
- Most tasks can proceed in parallel as they're independent enhancements
- T072 (city switching) should be done early as it affects testing of other tasks

### Dependencies
- Depends on all previous work packages (final polish layer)

### Risks & Mitigations
- **Risk**: Edge case handling adds significant complexity
  - **Mitigation**: Prioritize critical paths (city switching, offline handling), defer nice-to-haves

---

## Summary

**Total Work Packages**: 10
**Total Subtasks**: 80
**Estimated Duration**: 4-6 weeks (single developer), 2-3 weeks (parallel team)

### MVP Scope (WP01-WP08)
Delivers core user value: single city selection, full Wikipedia content, automatic POI discovery from 3 sources, deduplicated POI list display. Users can discover and explore POIs for any city.

### Priority Breakdown
- **P0 (Foundation)**: WP01-WP03 - Must complete first (models, single city, full content)
- **P1 (Core Features)**: WP04-WP08 - POI data sources, provider, and basic UI (MVP)
- **P2 (Enhanced Experience)**: WP09 - POI detail view
- **P3 (Polish)**: WP10 - Edge cases, performance, accessibility

### Parallelization Strategy
- **Wave 1 (After WP01)**: WP02, WP03 can proceed in parallel (single city model and full Wikipedia content are independent)
- **Wave 2 (After WP01)**: WP04, WP05, WP06 can proceed in parallel (three independent data source repositories)
- **Wave 3 (After Wave 2)**: WP07 (depends on all data sources), then WP08 (depends on provider)
- **Wave 4 (After WP08)**: WP09, WP10 can proceed in parallel (detail view and polish are independent)

### Recommended Start
**Begin with WP01** (Foundation) to establish data models and utilities that all other work depends on. Once complete, proceed with WP02, WP03, WP04, WP05, WP06 in parallel for maximum velocity.
